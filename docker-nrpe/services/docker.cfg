define service{
   service_description Docker
   use                 nrpe-service,generic-service
   register            0
   host_name           docker-nrpe
   check_command       check_nrpe!check_docker
}

define service{
   service_description Docker volume backups
   use                 nrpe-service,generic-service
   register            0
   host_name           docker-nrpe
   check_command       check_nrpe!check_docker_volumes_backups

   check_interval        360 ; Check the service every 6 hours in normal state
   notification_interval 720
   notification_period   workhours
   escalations
}

define service{
   service_description Docker Swarm PG backups
   use                 nrpe-service,generic-service
   register            0
   host_name           docker-nrpe
   check_command       check_nrpe_long!check_docker_swarm_pg_backups!90

   check_interval        360 ; Check the service every 6 hours in normal state
   notification_interval 720
   notification_period   workhours
   escalations
}

define service{
   service_description           $KEY$ Docker container
   use            nrpe-service,generic-service
   register       0
   host_name	  docker-nrpe
   check_command  check_nrpe!check_docker_container_$KEY$
   check_interval 1

   aggregation    $KEY$

   service_dependencies ,Docker

   duplicate_foreach _DOCKER_CONTAINERS
}
